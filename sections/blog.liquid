<div class="blog-section">
  <div class="blog-container">
    <h1 class="blog-title">{{ blog.title }}</h1>
    
    <div class="blog-grid">
      {% for article in blog.articles %}
        <article class="blog-article">
          {% if article.image %}
            <div class="article-image">
              <a href="{{ article.url }}">
                {{ article.image | image_url: width: 800 | image_tag: loading: 'lazy' }}
              </a>
            </div>
          {% endif %}
          
          <div class="article-content">
            <h2 class="article-title">
              <a href="{{ article.url }}">{{ article.title }}</a>
            </h2>
            
            <div class="article-meta">
              {% if section.settings.show_date %}
                <span class="article-date">{{ article.published_at | date: "%B %d, %Y" }}</span>
              {% endif %}
              
              {% if section.settings.show_author %}
                <span class="article-author">by {{ article.author }}</span>
              {% endif %}
            </div>
            
            {% if section.settings.show_excerpt %}
              <div class="article-excerpt">
                {{ article.excerpt_or_content | strip_html | truncatewords: 30 }}
              </div>
            {% endif %}
            
            {% if section.settings.show_tags and article.tags.size > 0 %}
              <div class="article-tags">
                {% for tag in article.tags %}
                  <a href="{{ blog.url }}/tagged/{{ tag | handle }}" class="tag">{{ tag }}</a>
                {% endfor %}
              </div>
            {% endif %}
            
            {% if section.settings.show_read_more %}
              <a href="{{ article.url }}" class="read-more">Read More</a>
            {% endif %}
          </div>
        </article>
      {% endfor %}
    </div>
    
    {% if paginate.pages > 1 %}
      <div class="pagination">
        {{ paginate | default_pagination }}
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Blog",
  "tag": "section",
  "class": "blog-section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_date",
      "label": "Show date",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_author",
      "label": "Show author",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_excerpt",
      "label": "Show excerpt",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_tags",
      "label": "Show tags",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_comments",
      "label": "Show comments",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_image",
      "label": "Show image",
      "default": true
    },
    {
      "type": "select",
      "id": "image_ratio",
      "label": "Image ratio",
      "options": [
        {
          "value": "adapt",
          "label": "Adapt to image"
        },
        {
          "value": "portrait",
          "label": "Portrait"
        },
        {
          "value": "square",
          "label": "Square"
        }
      ],
      "default": "adapt"
    },
    {
      "type": "checkbox",
      "id": "show_read_more",
      "label": "Show read more link",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Blog",
      "category": "Blog"
    }
  ]
}
{% endschema %}

<style>
.blog-section {
  padding: 4rem 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.blog-title {
  text-align: center;
  margin-bottom: 3rem;
  font-size: 2.5rem;
}

.blog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
}

.blog-article {
  background: #fff;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.blog-article:hover {
  transform: translateY(-5px);
}

.article-image {
  width: 100%;
  aspect-ratio: 16/9;
  overflow: hidden;
}

.article-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.article-content {
  padding: 1.5rem;
}

.article-title {
  font-size: 1.5rem;
  margin-bottom: 1rem;
}

.article-title a {
  color: inherit;
  text-decoration: none;
}

.article-meta {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  color: #666;
  font-size: 0.9rem;
}

.article-excerpt {
  margin-bottom: 1rem;
  color: #444;
}

.article-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.tag {
  background: #f5f5f5;
  padding: 0.25rem 0.75rem;
  border-radius: 1rem;
  font-size: 0.8rem;
  color: #666;
  text-decoration: none;
}

.read-more {
  display: inline-block;
  padding: 0.5rem 1rem;
  background: #000;
  color: #fff;
  text-decoration: none;
  border-radius: 4px;
  transition: background 0.3s ease;
}

.read-more:hover {
  background: #333;
}

.pagination {
  margin-top: 3rem;
  text-align: center;
}

.pagination a,
.pagination span {
  display: inline-block;
  padding: 0.5rem 1rem;
  margin: 0 0.25rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  text-decoration: none;
}

.pagination .current {
  background: #000;
  color: #fff;
  border-color: #000;
}
</style> 